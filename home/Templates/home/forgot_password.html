{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="{% static 'home/css/forgot_password.css'%}">
    <script src="{% static 'home/js/login.js' %}"></script>
</head>

<body>
    <div class="container">
        <div class="diagonal-background"></div>
        <div class="content">
            <div id="container_login">
                <form action="" method="POST">
                    <!-- csrf_token là bắt buộc phải có khi gửi form trong django -->
                    {% csrf_token %}
                    <div id="incontainer_login">
                        <div class="chuadangkydem">
                            <div class="chuadangky">
                                <div class="chuatieude">
                                    <div class="logo">
                                        <img onclick="window.location.href='{% url 'home' %}'" src="{% static 'home/images/logo3.png' %}" alt="">
                                    </div>
                                    <div class="tieude">
                                        <div class="chuatieude1">
                                            <h2>Quên mật khẩu</h2>
                                        </div>
                                        
                                    </div>
                                </div>
                                <div class="chuadangkyso">
                                <form action="" method="POST"></form>
                                {% csrf_token %}
                                    <div class="chuadangky2">
                                        <label for="">Nhập Email của tài khoản mà bạn cần lấy lại mật khẩu: </label>
                                        {{ form.email }}
                                        <p id="email_mess">

                                        </p>
                                    </div>
                                    <button type="submit">Lấy mật khẩu</button>
                                </form>
                                    

                                    {% if messages %}
                                    <div class="messages">
                                        {% for mesage in messages %}
                                        <div class="{{ message.tag }}">{{ message }}</div>
                                        {% endfor %}
                                    </div>
                                    {% endif %}

                                    <div class="chuadangky5">

                                        

                                    </div>
                                </div>

                            </div>
                        </div>
                        <script>
                            function batloiemail() {
                                var email = document.getElementById('email')
                                var email_mess = document.getElementById('email_mess')
                                rs = true
                                var checkemail = /^[a-zA-Z0-9._%+-]+@gmail\.com$/
                                if (email.value === '') {
                                    rs = false
                                    email.style.border = '1px solid red'
                                    email_mess.innerText = 'Email không được để trống'
                                    email_mess.style.color = 'red'
                                    return rs
                                } else if (!checkemail.test(email.value)) {
                                    rs = false
                                    email.style.border = '1px solid red'
                                    email_mess.innerText = 'Email phải có định dạng @gmail.com'
                                    email_mess.style.color = 'red'
                                    return rs
                                }
                               else{
                                    email.style.border = '1px solid green';
                                    email_mess.innerText = 'Password hợp lệ';
                                    email_mess.style.color = 'green';
                               }
                                return rs
                            }
                    
                            
                        </script>

                        <div class="chuahinh">
                            <div class="chuahinh1">
                                <img src="{% static 'home/images/logo1.png' %}" alt="">
                            </div>
                        </div>
                    </div>

                </form>
            </div>
        </div>
    </div>

    <!-- this -->
    
    
    <!-- Hiển thị thông báo lỗi hoặc thành công -->
   
      
      <script>
      document.getElementById('google-login-btn').addEventListener('click', function() {
        const clientId = '14310137293-ltolga7peevcmvb8jhq7al070416rrtm.apps.googleusercontent.com';
        const redirectUri = 'http://127.0.0.1:8000/accounts/google/login/callback/';
        const scope = 'email profile';
        
        window.location.href = `https://accounts.google.com/o/oauth2/v2/auth?client_id=${clientId}&redirect_uri=${encodeURIComponent(redirectUri)}&response_type=code&scope=${encodeURIComponent(scope)}&access_type=offline`;
      });
      </script>
</body>


</html>