{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{% static '/home/css/home.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
        <style>
            .suggestions-container {
                position: absolute;
                width: 100%;
                max-height: 300px;
                overflow-y: auto;
                background-color: white;
                border: 1px solid #ddd;
                z-index: 1000;
                display: none;
                top: 50px;
                border-radius: 0 0 8px 8px;
                
                opacity: 0;
                transform: scaleY(0);
                transform-origin: top;
                transition: all 0.3s ease-out;
            }
        
            .suggestions-container.show {
                display: block;
                opacity: 1;
                transform: scaleY(1);
            }
        
            .suggestion-item {
                display: flex;
                align-items: center;
                padding: 10px;
                cursor: pointer;
                border-bottom: 1px solid #f1f1f1;
                opacity: 0;
                transform: translateY(-10px);
                transition: opacity 0.3s ease-out, transform 0.3s ease-out;
            }
        
            .suggestion-item .suggestion-icon {
                margin-right: 10px;
                width: 20px;
                height: 20px;
                background-size: cover;
            }
        
            .suggestion-item.suggestion-product_type {
                background-color: #f0f0ff;
            }
        
            .suggestion-item.suggestion-category {
                background-color: #f0fff0;
            }
        
            .suggestion-item.suggestion-product {
                background-color: #fff0f0;
            }
        
            .suggestions-container.show .suggestion-item {
                opacity: 1;
                transform: translateY(0);
            }
        
            .suggestion-item:hover {
                background-color: #e0e0e0;
            }
        
            /* Stagger animation */
            .suggestions-container.show .suggestion-item:nth-child(1) { transition-delay: 0.1s; }
            .suggestions-container.show .suggestion-item:nth-child(2) { transition-delay: 0.2s; }
            .suggestions-container.show .suggestion-item:nth-child(3) { transition-delay: 0.3s; }
            .suggestions-container.show .suggestion-item:nth-child(4) { transition-delay: 0.4s; }
            .suggestions-container.show .suggestion-item:nth-child(5) { transition-delay: 0.5s; }
        </style>
</head>

<body>
    <div class="chuaheader">
        <div class="header">
            <div class="lotlogonut">
                <div class="chualogohd">
                    <div class="logohd">
                        <img onclick="window.location.href='{% url 'home' %}'"
                            src="{% static '/home/images/logo2.png' %}" alt="">
                    </div>
                </div>
                <div class="chuanuthd">
                    <div class="nut">
                        <a href="{% url 'danh_sach_san_pham' %}?category={{ ao_category_id }}" class="text-decoration-none text-dark">
                            <p>ÁO</p>
                            <span class="icon-ao"></span>
                        </a>
                    </div>
                    <div class="nut">
                        <a href="{% url 'danh_sach_san_pham' %}?category={{ quan_category_id }}" class="text-decoration-none text-dark">
                            <p>QUẦN</p>
                            <span class="icon-quan"></span>
                        </a>
                    </div>
                    <div class="nut">
                        <a href="{% url 'danh_sach_san_pham' %}?category={{ vay_category_id }}" class="text-decoration-none text-dark">
                            <p>VÁY</p>
                            <span class="icon-vay"></span>
                        </a>
                    </div>
                </div>
            </div>
            <div class="chuasearchicon">
                <div class="chuasearch" style="position: relative;">
                    <form class="ftk" action="{% url 'search_products' %}" method="GET" id="searchForm">
                        <input class="searchhd" type="text" name="search" id="searchInput" placeholder="Tìm kiếm sản phẩm" required autocomplete="off">
                        <button class="tk" type="submit">Search</button>
                    </form>
                    <div id="suggestionsContainer" class="suggestions-container"></div>
                </div>
            
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const searchInput = document.getElementById('searchInput');
                        const suggestionsContainer = document.getElementById('suggestionsContainer');
                        const searchForm = document.getElementById('searchForm');
                        
                        const csrftoken = getCookie('csrftoken');
                        let debounceTimer;
                        
                        searchInput.addEventListener('input', function() {
                            clearTimeout(debounceTimer);
                            const query = this.value.trim();
                    
                            if (query.length === 0) {
                                suggestionsContainer.classList.remove('show');
                                return;
                            }
                    
                            const search_url = "{% url 'product_suggestions' %}";
                            debounceTimer = setTimeout(() => {
                                fetch(`${search_url}?query=${encodeURIComponent(query)}`, {
                                    method: 'GET',
                                    headers: {
                                        'X-CSRFToken': csrftoken,
                                        'Content-Type': 'application/json'
                                    }
                                })
                                .then(response => response.json())
                                .then(data => {
                                    suggestionsContainer.innerHTML = '';
                                    
                                    if (data.suggestions.length > 0) {
                                        data.suggestions.forEach(suggestion => {
                                            const suggestionItem = document.createElement('div');
                                            suggestionItem.classList.add('suggestion-item', `suggestion-${suggestion.type}`);
                                            
                                            // Tạo icon
                                            const iconSpan = document.createElement('span');
                                            iconSpan.classList.add('suggestion-icon', suggestion.icon);
                                            suggestionItem.appendChild(iconSpan);
                                            
                                            // Tạo text
                                            const textSpan = document.createElement('span');
                                            textSpan.textContent = suggestion.name;
                                            suggestionItem.appendChild(textSpan);
                                            
                                            suggestionItem.addEventListener('click', function() {
                                                searchInput.value = suggestion.name;
                                                suggestionsContainer.classList.remove('show');
                                                searchForm.submit();
                                            });
                                            suggestionsContainer.appendChild(suggestionItem);
                                        });
                                        
                                        setTimeout(() => {
                                            suggestionsContainer.classList.add('show');
                                        }, 10);
                                    } else {
                                        // Xử lý khi không có gợi ý
                                        const noResultItem = document.createElement('div');
                                        noResultItem.classList.add('suggestion-item', 'no-results');
                                        
                                        const textSpan = document.createElement('span');
                                        textSpan.textContent = 'Không tìm thấy kết quả phù hợp';
                                        noResultItem.appendChild(textSpan);
                                        
                                        suggestionsContainer.appendChild(noResultItem);
                                        suggestionsContainer.classList.add('show');
                                    }
                                })
                                .catch(error => {
                                    console.error('Error:', error);
                                    suggestionsContainer.classList.remove('show');
                                });
                            }, 300);
                        });
                        
                        function getCookie(name) {
                            let cookieValue = null;
                            if (document.cookie && document.cookie !== '') {
                                const cookies = document.cookie.split(';');
                                for (let i = 0; i < cookies.length; i++) {
                                    const cookie = cookies[i].trim();
                                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                                        break;
                                    }
                                }
                            }
                            return cookieValue;
                        }
                        
                        document.addEventListener('click', function(event) {
                            if (!searchInput.contains(event.target) && 
                                !suggestionsContainer.contains(event.target)) {
                                suggestionsContainer.classList.remove('show');
                            }
                        });
                    }); 
                </script>
                <div class="chuaicon">
                    <div class="icon">
                        <i class="bi bi-cart" onclick="window.location.href='{% url 'cart' %}'"></i>
                    </div>
                    <div class="icon">
                        <i onclick="window.location.href='{% url 'profile' %}'" class="bi bi-person-circle"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Thêm vào file templates/base.html hoặc template chính của bạn -->
{% if messages %}
<div class="django-messages">
  {% for message in messages %}
  <div class="django-message {{ message.tags }}" data-timeout="5000">
    <span class="message-text">{{ message }}</span>
    <span class="close-message">&times;</span>
  </div>
  {% endfor %}
</div>
{% endif %}

<style>
  /* CSS chung cho các nút */
.chuanuthd {
    display: flex;
    justify-content: center;
    gap: 15px;
}

    
.nut a {
    display: flex;
    align-items: center;
    justify-content: center;
}

.nut p {
    margin: 0 8px 0 0;
    font-weight: 600;
}

/* Đảm bảo hiển thị icon */
.icon-ao, .icon-quan, .icon-vay {
    display: inline-block;
    width: 20px;
    height: 20px;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

.icon-ao {
    background-image: url("{% static 'home/images/womens-clothing.png' %}");
}

.icon-quan {
    background-image: url("{% static 'home/images/shorts.png' %}");
}

.icon-vay {
    background-image: url("{% static 'home/images/woman-clothes.png' %}");
}
/* CSS cho thông báo */
.django-messages {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 1000;
  max-width: 350px;
}
.searchhd:hover{
    border: 1px solid #666;
}
.tk{
    height: 40px;
    width: 150px;
    padding: 10px;
    background-color: rgba(56, 92, 20, 0.459);
    font-size: 15px;
    border: none;
    border-radius: 12px;
    color: #fff;
}
.tk:hover{
    background-color: rgba(56, 92, 20, 0.8);
    transform: scale(1.05);
    transition: 0.3s;
}
.ftk{  
    display: flex;
    gap: 10px;
}

.chuasearch{
    width: 300px !important; 
}
.django-message {

  position: relative;
  top: 80px;
  padding: 15px 40px 15px 20px;
  margin-bottom: 15px;
  border-radius: 4px;
  color: white;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  opacity: 0;
  transform: translateX(100%);
  animation: slideIn 0.3s forwards, fadeOut 0.5s forwards 4.5s;
}

.django-message.success {
  background-color: #28a745;
}

.django-message.error {
  background-color: #dc3545;
}

.django-message.warning {
  background-color: #ffc107;
  color: #212529;
}

.django-message.info {
  background-color: #17a2b8;
}

.close-message {
  position: absolute;
  top: 5px;
  right: 10px;
  font-size: 22px;
  font-weight: bold;
  cursor: pointer;
  opacity: 0.8;
  transition: opacity 0.2s;
}

.close-message:hover {
  opacity: 1;
}

@keyframes slideIn {
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes fadeOut {
  to {
    opacity: 0;
    transform: translateX(100%);
  }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Xử lý đóng thông báo khi click dấu X
  document.querySelectorAll('.close-message').forEach(function(closeBtn) {
    closeBtn.addEventListener('click', function() {
      const message = this.closest('.django-message');
      message.style.animation = 'fadeOut 0.5s forwards';
      setTimeout(() => message.remove(), 500);
    });
  });

  // Tự động đóng thông báo sau timeout
  document.querySelectorAll('.django-message').forEach(function(message) {
    const timeout = message.dataset.timeout || 5000;
    
    setTimeout(() => {
      message.style.animation = 'fadeOut 0.5s forwards';
      setTimeout(() => message.remove(), 500);
    }, parseInt(timeout));
  });
});
</script>
    {% block content %}
    <div id="main">

        <div class="slider-container">
            <div class="slide active">
                <img class="slideimg" src="{% static 'home/images/phong-nen-chup-anh-quan-ao-01.jpg' %}" alt="">
                <img src="{% static 'home/images/logo3.png' %}" class="logosd" alt="">
            </div>

            <div class="slide">
                <img class="slideimg" src="{% static 'home/images/sd1.jpg' %}" class="logosd" alt="">
            </div>

            <div class="slide">
                <img class="slideimg" src="{% static 'home/images/sd2.jpg' %}" class="logosd" alt="">
            </div>

            <div class="slide">
                <img class="slideimg" src="{% static 'home/images/sd3.jpg' %}" alt="">
                <img src="{% static 'home/images/logo3.png' %}" class="logosd" alt="">
            </div>

            <!-- Nút điều hướng -->
            <div class="prev">&#10094;</div>
            <div class="next">&#10095;</div>

            <!-- Chỉ báo dots -->
            <div class="dots-container">
                <span class="dot active" data-index="0"></span>
                <span class="dot" data-index="1"></span>
                <span class="dot" data-index="2"></span>
                <span class="dot" data-index="3"></span>
            </div>
        </div>
        <div class="gioithieu">
            <div class="gt">
                <div class="lot">
                    <h4>MIỄN PHÍ giao hàng</h4>
                    <p>FREESHIP đơn hàng từ 500K</p>
                </div>
            </div>
            <div class="gt">
                <div class="lot">
                    <h4>Thanh toán COD</h4>
                    <p>Thanh toán khi nhận hàng</p>
                </div>
            </div>
            <div class="gt">
                <div class="lot">
                    <h4>Ưu đãi khách hàng</h4>
                    <p>Nhiều ưu đãi khủng</p>
                </div>
            </div>
            <div class="gt">
                <div class="lot">
                    <h4>Đặt hàng nhanh chóng</h4>
                    <p>Linh hoạt, bảo mật</p>
                </div>
            </div>
        </div>
        <h4 class="dmsp">DANH MỤC SẢN PHẨM</h4>
        <div class="danhmucs">
            <div class="danhmuc">
                <div class="lot">
                    <div class="img">
                        <img src="{% static 'home/images/ao.webp' %}" alt="">
                    </div>

                    <div class="noidung">
                        <a href="{% url 'danh_sach_san_pham' %}?category={{ ao_category_id }}" class="text-decoration-none text-dark">
                            <p>ÁO</p>
                        </a>
                    </div>
                </div>
            </div>
            <div class="danhmuc">
                <div class="lot">
                    <div class="img">
                        <img src="{% static 'home/images/quan.jpg' %}" alt="">
                    </div>

                    <div class="noidung">
                        <a href="{% url 'danh_sach_san_pham' %}?category={{ quan_category_id }}" class="text-decoration-none text-dark">
                            <p>QUẦN</p>
                        </a>
                    </div>
                </div>
            </div>
            <div class="danhmuc">
                <div class="lot">
                    <div class="img">
                        <img src="{% static 'home/images/vay.jpg' %}" alt="">
                    </div>

                    <div class="noidung">
                        <a href="{% url 'danh_sach_san_pham' %}?category={{ vay_category_id }}" class="text-decoration-none text-dark">
                            <p>VÁY</p>
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="danhsachspnnm">
            <h4 class="dmsp">NHỮNG SẢN PHẨM HÔM NAY</h4>
            <div class="chuasp">
                {% for item in product_random|slice:":5" %}
                <div class="sp">
                    <a href="{% url 'product_detail' product_id=item.product.id %}"
                        style="text-decoration: none; color: inherit;">
                        <div class="lot">
                            <div class="chuaanh">
                                <img src="{{ item.variant_image }}" alt="{{ item.product.name }}">
                            </div>
                            <div class="chuadl">
                                <p class="tensp">{{ item.product.name }}</p>
                                <div class="chuagia">
                                    <div class="giagiam">{{ item.giagiam }} đ</div>
                                    <div class="giagoc">{{ item.giagoc }} đ</div>
                                    <div class="ptg">
                                        <p>-{{ item.discount_percent|floatformat:0 }}%</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
        <div class="danhsachspnnm">
            <h4 class="dmsp">NHỮNG SẢN PHẨM NHIỀU NGƯỜI MUA</h4>
            <div class="chuasp">
                {% for item in top_products|slice:":5" %}
                <div class="sp">
                    <a href="{% url 'product_detail' product_id=item.product.id %}"
                        style="text-decoration: none; color: inherit;">
                        <div class="lot">
                            <div class="chuaanh">
                                <img src="{{ item.variant_image }}" alt="{{ item.product.name }}">
                            </div>
                            <div class="chuadl">
                                <p class="tensp">{{ item.product.name }}</p>
                                <div class="chuagia">
                                    <div class="giagiam">{{ item.giagiam }}</div>
                                    <div class="giagoc">{{ item.giagoc }}</div>
                                    <div class="ptg">
                                        <p>-{{ item.discount_percent|floatformat:0 }}%</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
        <div class="banner">
            <div class="lot">
                <div class="bn">
                    <img src="{% static 'home/images/download.jpg' %}" alt="">
                    <img class="logobn" src="{% static 'home/images/logo3.png' %}" alt="">
                    <p class="dau">Daily</p>
                    <br>
                    <p class="cuoi">Deals</p>
                </div>
                <div class="bn">
                    <img src="{% static 'home/images/pngtree-a-colorful-flower-wallpaper-that-says-blue-and-pink-blossoms-charming-image_16292891.jpg' %}"
                        alt="">
                    <img class="logobn" src="{% static 'home/images/logo3.png' %}" alt="">
                    <p class="dau1">Style</p>
                    <br>
                    <p class="cuoi1">Spectrum</p>
                </div>
            </div>
        </div>
    </div>
    <div class="danhsachspnnm">
        <h4 class="dmsp">ÁO</h4>
        <div class="chuasp">
            {% for item in product_ao|slice:":5" %}
            <div class="sp">
                <a href="{% url 'product_detail' product_id=item.product.id %}"
                    style="text-decoration: none; color: inherit;">
                    <div class="lot">
                        <div class="chuaanh">
                            <img src="{{ item.variant_image }}" alt="{{ item.product.name }}">
                        </div>
                        <div class="chuadl">
                            <p class="tensp">{{ item.product.name }}</p>
                            <div class="chuagia">
                                <div class="giagiam">{{ item.giagiam }}</div>
                                <div class="giagoc">{{ item.giagoc }}</div>
                                <div class="ptg">
                                    <p>-{{ item.discount_percent|floatformat:0 }}%</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>

    </div>
    <div class="danhsachspnnm">
        <h4 class="dmsp">QUẦN</h4>
        <div class="chuasp">
            {% for item in product_quan|slice:":5" %}
            <div class="sp">
                <a href="{% url 'product_detail' product_id=item.product.id %}"
                    style="text-decoration: none; color: inherit;">
                    <div class="lot">
                        <div class="chuaanh">
                            <img src="{{ item.variant_image }}" alt="{{ item.product.name }}">
                        </div>
                        <div class="chuadl">
                            <p class="tensp">{{ item.product.name }}</p>
                            <div class="chuagia">
                                <div class="giagiam">{{ item.giagiam }}</div>
                                <div class="giagoc">{{ item.giagoc }}</div>
                                <div class="ptg">
                                    <p>-{{ item.discount_percent|floatformat:0 }}%</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>
    <div class="danhsachspnnm">
        <h4 class="dmsp">VÁY</h4>
        <div class="chuasp">
            {% for item in product_vay|slice:":5" %}
            <div class="sp">
                <a href="{% url 'product_detail' product_id=item.product.id %}"
                    style="text-decoration: none; color: inherit;">
                    <div class="lot">
                        <div class="chuaanh">
                            <img src="{{ item.variant_image }}" alt="{{ item.product.name }}">
                        </div>
                        <div class="chuadl">
                            <p class="tensp">{{ item.product.name }}</p>
                            <div class="chuagia">
                                <div class="giagiam">{{ item.giagiam }}</div>
                                <div class="giagoc">{{ item.giagoc }}</div>
                                <div class="ptg">
                                    <p>-{{ item.discount_percent|floatformat:0 }}%</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </a>
            </div>
            {% endfor %}
        </div>
    </div>

    <script src="{% static 'home/js/home.js' %}"></script>
    {% endblock %}
    <div class="ganfooter">
        <img src="{% static 'home/images/background-quan-ao-nu-cuc-dep_044601914.png' %}" alt="">
    </div>
    <div class="ganfooter">
        <img src="{% static 'home/images/background-quan-ao-vintage_044605910.jpg' %}" alt="">
    </div>
    <div class="ganfooter1">
        <div class="lot">
            <div class="gft">
                <div class="lot">
                    <img src="{% static 'home/images/logo2.png' %}" alt="">
                </div>
            </div>
            <div class="gft">
                <div class="lot">
                    <p class="tieude">
                        Beee - Định Nghĩa Phong Cách Của Phái Đẹp
                    </p>
                    <p>
                        Beee tự hào là điểm đến lý tưởng cho những người phụ nữ hiện đại đang tìm kiếm phong cách thời
                        trang độc đáo và đẳng cấp. Với sứ mệnh tôn vinh vẻ đẹp và cá tính của từng khách hàng, chúng tôi
                        mang đến những bộ sưu tập thời trang đa dạng, từ trang phục công sở thanh lịch đến những set đồ
                        dạo phố trẻ trung, năng động.
                        Đến với Beee, quý khách không chỉ được trải nghiệm những thiết kế thời thượng, chất liệu cao cấp
                        mà còn nhận được sự tư vấn tận tâm để tìm ra phong cách phù hợp nhất với cá tính riêng. Chúng
                        tôi tin rằng: "Mỗi người phụ nữ đều xứng đáng tỏa sáng theo cách riêng của mình."
                        Beee - Nơi phong cách được định nghĩa và vẻ đẹp được tôn vinh.
                        Bạn thấy bài giới thiệu này thế nào? Tôi có thể điều chỉnh để phù hợp hơn với định hướng của
                        shop của bạn.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="footer">
        <div class="lot">
            <div class="ft">
                <div class="lot">
                    <h4>Beee</h4>
                    <div class="chuamotaft">
                        <p class="gtft">Beee là thiên đường thời trang dành cho phái đẹp, nơi hội tụ những bộ sưu tập
                            độc đáo và tinh tế. Với đa dạng các thiết kế từ công sở thanh lịch đến dạo phố trẻ trung,
                            chúng tôi cam kết mang đến những sản phẩm chất lượng cao cấp, giúp phụ nữ tự tin tỏa sáng
                            trong mọi khoảnh khắc của cuộc sống.</p>
                    </div>

                    <div class="chuaicon">
                        <svg onclick="window.location.href='https://www.facebook.com/thanhloc.le.5473/'"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                            <!-- Base with gradient -->
                            <defs>
                                <linearGradient id="fb-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#18ADFF" />
                                    <stop offset="100%" style="stop-color:#0063E1" />
                                </linearGradient>
                            </defs>

                            <!-- Main rounded rectangle with shadow -->
                            <rect x="2" y="2" width="44" height="44" rx="8" fill="url(#fb-gradient)" />
                            <rect x="4" y="4" width="40" height="40" rx="6" fill="url(#fb-gradient)" />

                            <!-- Facebook logo with more detailed path -->
                            <path
                                d="M33.5 25h-6.25v14c0 0.552-0.448 1-1 1h-5c-0.552 0-1-0.448-1-1V25h-4c-0.552 0-1-0.448-1-1v-4.5c0-0.552 0.448-1 1-1h4v-3.75c0-4.77 2.925-7.375 7.175-7.375 1.438 0 2.675 0.105 3.775 0.315 0.5 0.096 0.8 0.535 0.8 1.042v4.5c0 0.552-0.448 1-1 1h-2.66c-2.32 0-2.775 1.102-2.775 2.724v2.544h5.54c0.598 0 1.055 0.525 0.977 1.117l-0.54 4.5c-0.066 0.51-0.496 0.883-1.007 0.883z"
                                fill="white" />

                            <!-- Highlight and shadow effects -->
                            <path
                                d="M26.25 25v14c0 0.552-0.448 1-1 1h-5c-0.552 0-1-0.448-1-1V25h-4c-0.552 0-1-0.448-1-1v-4.5c0-0.552 0.448-1 1-1h4v-3.75c0-4.77 2.925-7.375 7.175-7.375 0.359 0 0.697 0.006 1.018 0.02"
                                fill-opacity="0.15" fill="white" />
                        </svg>
                        <svg onclick="window.location.href='https://www.youtube.com/@lethanhloc8371'"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                            <!-- Definitions for gradients and effects -->
                            <defs>
                                <linearGradient id="yt-red-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#FF5252" />
                                    <stop offset="100%" style="stop-color:#D32F2F" />
                                </linearGradient>
                                <filter id="yt-shadow" x="-10%" y="-10%" width="120%" height="120%">
                                    <feDropShadow dx="0" dy="1" stdDeviation="0.5" flood-opacity="0.3" />
                                </filter>
                            </defs>

                            <!-- Background shape -->
                            <rect width="48" height="48" rx="12" fill="#FFFFFF" />

                            <!-- YouTube Play Button Shape -->
                            <rect x="4" y="10" width="40" height="28" rx="8" fill="url(#yt-red-gradient)"
                                filter="url(#yt-shadow)" />

                            <!-- Play Button Triangle -->
                            <path d="M32 24L19 32V16L32 24Z" fill="white" filter="url(#yt-shadow)" />

                            <!-- Highlight effects -->
                            <path
                                d="M4 18C4 13.582 7.582 10 12 10H36C40.418 10 44 13.582 44 18V19C44 14.582 40.418 11 36 11H12C7.582 11 4 14.582 4 19V18Z"
                                fill="white" fill-opacity="0.3" />

                            <!-- Bottom shadow -->
                            <path
                                d="M4 30C4 34.418 7.582 38 12 38H36C40.418 38 44 34.418 44 30V29C44 33.418 40.418 37 36 37H12C7.582 37 4 33.418 4 29V30Z"
                                fill="black" fill-opacity="0.1" />
                        </svg>
                        <svg onclick="window.location.href='https://www.tiktok.com/@lethanhloc2004261?lang=vi-VN'"
                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
                            <!-- Black background -->
                            <rect width="48" height="48" rx="8" fill="#000000" />

                            <!-- Ultra simplified TikTok logo in white -->
                            <path
                                d="M32 16c-1.5 0-3-1-4-2v-2h-7v22c0 2.2-1.8 4-4 4s-4-1.8-4-4 1.8-4 4-4c.5 0 1 .1 1.5.3v-5.5c-5 .5-9 4.8-9 9.9 0 5.5 4.5 10 10 10s10-4.5 10-10V22c2 1 4 1.5 6 1.5v-7c-1.7 0-3.5-.5-3.5-.5z"
                                fill="white" />
                        </svg>
                    </div>
                </div>
            </div>
            <div class="ft">
                <div class="lot">
                    <h4>GIỚI THIỆU</h4>
                    <div class="chuamotaft gt4">
                        <p class="gtv" onclick="window.location.href='{% url 'vebeee' %}'">Về Beee</p>
                        <p class="gtv" onclick="window.location.href='{% url 'lienhe' %}'">Liên hệ</p>
                        <p class="gtv" onclick="window.location.href='{% url 'tintuc' %}'">Tin tức</p>
                    </div>
                </div>
            </div>
            <style>
                .gt4 p{
                    cursor: pointer;
                }

                .gt4 p:hover{
                    color: rgba(0, 128, 0, 0.507);
                    transition: 0.3s;
                }
            </style>
            <div class="ft">
                <div class="lot">
                    <h4 class="csbh">CHÍNH SÁCH BÁN HÀNG</h4>
                    <div class="chuamotaft gt4">
                        <p class="gtv" onclick="window.location.href='{% url 'doitra' %}'">CHÍNH SÁCH ĐỔI TRẢ</p>
                        <p class="gtv" onclick="window.location.href='{% url 'vanchuyen' %}'">CHÍNH SÁCH VẬN CHUYỂN</p>
                        <p class="gtv" onclick="window.location.href='{% url 'baomat' %}'">CHÍNH SÁCH BẢO MẬT</p>
                    </div>
                </div>
            </div>
            <div class="ft">
                <div class="lot">
                    <h4>THÔNG TIN LIÊN HỆ</h4>
                    <div class="chuamotaft">
                        <p class="gtv">TÊN: LÊ THÀNH LỘC</p>
                        <div class="chuadcft">
                            <p class="dcft">ĐỊA CHỈ: </p>
                            <p class="dc">
                                25/5 Phước Thới, Ô môn, Cần thơ
                            </p>
                        </div>
                        <p class="gtv">SDT: 0782910034</p>
                        <div class="chuadcft">
                            <p class="dcft">EMAIL: </p>
                            <p class="dc">lethanhloc2612004@gmail.com</p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="loading-overlay">
        <div class="spinner"></div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const loadingOverlay = document.getElementById('loading-overlay');
            let isLoading = false; // Biến cờ để theo dõi trạng thái loading
    
            // Hiển thị loading khi trang bắt đầu tải
            showLoading();
    
            // Ẩn loading khi trang đã tải xong
            window.addEventListener('load', function () {
                hideLoading();
            });
    
            // Hiển thị loading khi click vào các link chuyển trang
            setupLinkListeners();
    
            // Xử lý hiệu ứng loading khi sử dụng nút Back/Forward của trình duyệt
            window.addEventListener('popstate', function () {
                showLoading();
                
                // Thêm timeout để đảm bảo loading dừng nếu trang load từ cache
                setTimeout(function() {
                    if (isLoading) {
                        hideLoading();
                    }
                }, 2000); // 2 giây là thời gian tối đa chờ đợi
            });
    
            // Hàm thiết lập sự kiện cho các link
            function setupLinkListeners() {
                const links = document.querySelectorAll('a:not([data-no-loading])');
    
                links.forEach(link => {
                    if (link.getAttribute('href') &&
                        !link.getAttribute('href').startsWith('#') &&
                        !link.getAttribute('href').startsWith('javascript:') &&
                        !link.getAttribute('target')) {
    
                        link.addEventListener('click', function (e) {
                            const targetUrl = link.getAttribute('href');
                            if (targetUrl.indexOf(window.location.hostname) > -1 ||
                                targetUrl.startsWith('/')) {
                                e.preventDefault();
                                showLoading();
                                setTimeout(function () {
                                    window.location.href = targetUrl;
                                }, 300);
                            }
                        });
                    }
                });
    
                const categoryButtons = document.querySelectorAll('.nut, .danhmuc');
                categoryButtons.forEach(button => {
                    button.addEventListener('click', function () {
                        showLoading();
                    });
                });
            }
    
            // Hàm hiển thị loading
            function showLoading() {
                isLoading = true;
                document.body.classList.add('loading-active');
                loadingOverlay.classList.add('active');
    
                const mainContent = document.getElementById('main');
                if (mainContent) {
                    mainContent.classList.add('loading');
                }
    
                const productLists = document.querySelectorAll('.danhsachspnnm, .chuaheader');
                productLists.forEach(list => {
                    list.classList.add('loading');
                });
            }
    
            // Hàm ẩn loading
            function hideLoading() {
                isLoading = false;
                setTimeout(function () {
                    loadingOverlay.classList.remove('active');
                    document.body.classList.remove('loading-active');
    
                    const mainContent = document.getElementById('main');
                    if (mainContent) {
                        mainContent.classList.remove('loading');
                    }
    
                    const productLists = document.querySelectorAll('.danhsachspnnm, .chuaheader');
                    productLists.forEach(list => {
                        list.classList.remove('loading');
                    });
                }, 500);
            }
    
            // Bắt sự kiện khi submit form tìm kiếm
            const searchForm = document.querySelector('form[name="search"]');
            if (searchForm) {
                searchForm.addEventListener('submit', function () {
                    showLoading();
                });
            }
    
            // Xử lý cho input tìm kiếm
            const searchInput = document.querySelector('.searchhd');
            if (searchInput) {
                searchInput.addEventListener('keydown', function (e) {
                    if (e.key === 'Enter') {
                        showLoading();
                    }
                });
            }
    
            // Thêm sự kiện pageshow để xử lý khi trang được load từ cache
            window.addEventListener('pageshow', function(event) {
                if (event.persisted) {
                    // Trang được load từ cache (như khi bấm back/forward)
                    hideLoading();
                }
            });
        });
    </script>

</body>

</html>